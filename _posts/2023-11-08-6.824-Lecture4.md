---
title: "6.824-Lecture4"
date: 2023-11-08
---
# Cosistency Model
Consistency Model is a specification for the relationship of different clients' views of a service.

**|-Wx1-|** denotes that an operation that client sent request at **|-**(invocation) and received response at **-|**(response).

| Model Type | Details | Example | Requirments |
| --- | --- | --- | --- |
| Linearizability (Strong Consistency) | In a trace of operations, <br>1. Each operation has a point time between invocation and response <br> 2. the trace's result values are identical as serial execution in that point order |  | 1. reads see fresh data - not stale <br> 2. all clients see the same data (when there aren't writes) <br> 3. all clients see data changes in the same order |


# Primary-Backup Replication
## Failures
It is for fault tolerance on failures (fail-stop faults).
Not for bugs
Disaters in a region
Manufacturing faults


## Replication Approaches
### State Transfer
State - RAM content

### Replicated State Machine
External events/operations
primary could be ahead of backup

What state? 
All low level details in a machine, fault-tolerance for arbitrary software, no need to understand business semantic

P/B sync
Cut-Over
Anomalies
New Replicas (when failure)

#### VMware FT
P/B see inputs, only P sends out outputs
Log Entry channel betwen P/B

## No-determistic events
Inputs - Packet - data + arrival interrupt
Weird instructions
Multi Core  

Log entry
    * Instruction #
    * Type
    * Data

